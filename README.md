### PES_PROJECT_3
##The PROJECT consists of three parts:
1)A suite of memory tests, a pattern generator, a logger, an LED control, a main program to run an example test set
2)UML Activity and State Diagrams
3)μcUnit test case.

###**PART 1**

**Memory Test Suite:**

The test includes allocated memory region through dynamic memory allocation when run on your development system Windows  but includes direct memory addressing (using the heap in your KL25Z memory map) when run on the KL25Z.
It Determines the memory bounds for the heap region to ensure valid addressing and doesnot exceed the memory bound.Functions does bounds checking and warn the user if they attempt to read or write memory outside the allocated range (or if no memory block has been allocated). Functions will return an error code to indicate issues have occurred.
Memory Functions include:

-uint32_t * allocate_words(size_t length);
*Allocate_words*-Used to return a pointer to memory address.Error if it goes out of bounds.
-void free_words(uint32_t * src);
*Free_words* – Used to free a previously allocated block of memory (using free()). If free_memory is called with no memory having been allocated, a warning message should be issued.
-uint8_t * display_memory(uint32_t * loc, size_t length);
*Display_memory* – Contents of a memory region will be “displayed” 
-mem_status write_memory(uint32_t * loc, uint8_t value);
*Write_memory* – The user specifies an address and a byte value to write. The memory at that location is modified accordingly.
 mem_status invert_block(uint32_t * loc, size_t length);
*Invert_block* – The user specifies an address and a number of bytes. All bits in this region should be inverted using XOR.
-mem_status write_pattern(uint32_t * loc, size_t length, int8_t seed);
*Write_pattern* – The user specifies an address, a number of bytes, and a seed value. The seed value and the number of bytes will be provided to a pattern generator utility function, which will return a byte array, where each byte has a random value based on the seed which is written in an array.
-uint32_t * verify_pattern(uint32_t * loc, size_t length, int8_t seed);
*Verify_pattern* –  Generate a byte array with random values based on the seed. Check whether the newly generated pattern in the byte array returned matches the existing byte pattern in memory at the specified address. The function returns a list of any memory location addresses (compare bytes) where memory did not match the pattern.
-uint32_t * get_address(uint32_t * offset); 
*Get_address* – This function takes an offset from a specified location and calculate a fully addressed memory location.

**Pattern Generator**

-unit8_t * gen_pattern(size_t length, int8_t seed);
Accepts a number of bytes and a seed value and return a byte array
oIt uses a seed value (you may decide on the data type) to create a pseudo-random generation of 8-bit unsigned integers, each of which will be stored in a byte array to be returned. Same seed creates the same random pattern.

**Logger**

• Logger (logger.c/logger.h) for displaying debug messages or data generated by the memory tests. Logger can be enabled or disabled.
If disabled, messages sent to the logger by other routines are ignored. If enabled, the logger will send incoming messages to selected logging destinations.
The logger uses printf() to display messages to the console. When running on the KL25Z, output should be directed to the UART. The logger is initialilly in disabled state. Logging functions include:
o Log_enable – begin printing log messages when called
o Log_disable – ignore any log messages until re-enabled
o Log_status – returns a flag to indicate whether the logger is enabled or disabled
o Log_data – display in hexadecimal an address and contents of a memory location, arguments are a pointer to a sequence of bytes and a specified length
o Log_string – display a string
o Log_integer – display an integer
olog_get_address-displays address at a particular offset
olog_invert- displays inverse of data the memory location.
olog_invert_block- displays inverse of data the memory location.
olog_verify_pattern- displays if verification goes wrong at an address and prints the address with the data at the address.
olog_free_memory- displays the message free memory
ologger_error_code- displays whether there are errors in the memory test and displays the error 


**Executing the Memory Test**

• In both Windows and running on the KL25Z, the memory tests will run by using your main program (main.c) that will call the following commands to exercise the memory tests:
o Allocate 16 bytes of memory
o Write a memory pattern to the allocated 16 byte region using a selected seed
o Display that region’s memory pattern
o Verify that region’s memory pattern (passes)
o Write 0xFFEE to a position within that region (location + some offset you select)
o Display that region’s memory pattern
o Verify the memory pattern again (error)
o Write a memory pattern to the region using the same seed as before
o Display that region’s memory pattern
o Verify that memory pattern again (passes)
o Invert 4 bytes in the region (location + some offset)
o Display that region’s memory pattern
o Verify the memory pattern again (error)
o Invert those 4 bytes again in the LMA region (location + some offset)
o Display that region’s memory pattern
o Verify that memory pattern again ( passes)
o Free the 16 byte allocated region (if necessary on your target)
• These set of command run on both your development platform (Windows or Linux) and on the KL25Z, in both cases with logging enabled or disabled. 

**LED Control**

• LED control function (led_control.c/led_control.h) will be able to turn the KL25Z LED either red, green, blue, or off. This function executes only when we are running your memory tests on the KL25Z (with logger enabled or disabled).LED glows in rhe following manner:
-At initialization, LED is off.
-When the memory test starts the LED turns to blue.
-If an error occurs during the memory test on verification, the LED turns to red. 
-If the entire memory test is run as expected, the LED turns to green.

###**PART 2**

Consists of a UML Activity Diagram and a UML Sequence Diagram for the above test cycle.
-UML activity diagram that shows each of the activities in the cycle above. 
-Also, consists of a UML sequence diagram for the same flow. 

###**PART 3**

Consists of Unit Test set (unitTest.c/unitTest.h) for the application.
Using μcUnit example of unit tests is done for some of the memory test functions. These tests should confirm some normal and abnormal responses for some subset of the memory test functions.

reference:https://github.com/ESultanik/mtwister
